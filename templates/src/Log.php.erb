<?php

namespace <%=params[:namespace]%>;

class Log {

	public static function ts() {
		return date("c");
	}

	public static function encode($message) {
		if(gettype($message) != "string") {
			return json_encode($message);
		}
		return $message;
	}

	public static function send($level,$message) {
		printf("[%s] [%s] %s %s\n",self::ts(),getmypid(),$level,self::encode($message));
	}

	public static function info($message) {
		self::send("INFO",$message);
	}

	public static function warn($message) {
		self::send("WARN",$message);
	}

	public static function error($message) {
		self::send("ERROR",$message);
	}
}
